<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - TPA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <style>
        /* General Styles */
        body { font-family: 'Inter', sans-serif; }
        .modal-bg { background-color: rgba(0,0,0,0.5); }
        .tab-button.active { border-color: #eab308; color: #eab308; }
        @keyframes pop { 0% { transform: scale(1); } 50% { transform: scale(1.3); } 100% { transform: scale(1); } }
        .pop { animation: pop 0.2s ease-out; }
        .header-top-bar { background-color: #eab308; }
        .main-nav { background-color: #f3f4f6; border-bottom: 1px solid #e5e7eb; }
        .site-footer { background-color: #f8f8f8; color: #555; font-size: 0.875rem; }
        .site-footer h4 { font-weight: 600; color: #333; margin-bottom: 1rem; text-transform: uppercase; }
        .site-footer a { color: #555; transition: color 0.2s ease; }
        .site-footer a:hover { color: #d97706; }
        .footer-bottom { background-color: #eee; color: #666; font-size: 0.75rem; }
        .footer-bottom .fa-cc-visa { color: #1A1F71; }
        .footer-bottom .fa-cc-amex { color: #007BC1; }
        .footer-bottom .fa-cc-paypal { color: #003087; }
        .footer-bottom .fa-cc-mastercard { color: #EB001B; }
        .footer-bottom .fa-cc-discover { color: #FF6600; }

        /* Accordion Styles (Yellow Theme) */
        .faq-question {
            cursor: pointer; padding: 1rem 0; border-bottom: 1px solid #e5e7eb;
            display: flex; justify-content: space-between; align-items: center;
            font-weight: 500; color: #374151; transition: color 0.2s ease;
        }
        .faq-question:hover { color: #d97706; }
        .faq-question.active { color: #d97706; /* <<< YELLOW THEME */ }
        .faq-answer {
            max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out, padding 0.3s ease-out;
            padding-right: 1rem; font-size: 0.875rem; color: #6b7280; line-height: 1.6;
        }
        .faq-answer p { padding-top: 0.5rem; padding-bottom: 1rem; }
        .faq-question i { transition: transform 0.3s ease; color: #9ca3af; }
        .faq-question.active i { transform: rotate(180deg); color: #d97706; /* <<< YELLOW THEME */ }
    </style>
</head>
<body class="bg-white">

    <div id="auth-modal" class="fixed inset-0 modal-bg z-50 flex items-center justify-center hidden"> <div class="bg-white rounded-lg shadow-xl w-full max-w-md m-4"> <div class="p-4 border-b"> <div class="flex justify-between items-center"> <h2 class="text-xl font-bold text-slate-700">Welcome!</h2> <button id="close-modal-btn" class="text-slate-500 hover:text-slate-800 text-3xl leading-none">&times;</button> </div> </div> <div class="p-2 bg-slate-100 flex gap-2"> <button id="login-tab-btn" class="tab-button active flex-1 bg-white p-2 rounded-md font-semibold border-b-2">Login</button> <button id="signup-tab-btn" class="tab-button flex-1 bg-white p-2 rounded-md font-semibold text-slate-500 border-b-2 border-transparent">Sign Up</button> </div> <div class="p-6" style="max-height: 70vh; overflow-y: auto;"> <form id="login-form" class="space-y-4"> <input type="email" id="login-email" placeholder="Email" required class="w-full p-3 border rounded-md"> <input type="password" id="login-password" placeholder="Password" required class="w-full p-3 border rounded-md"> <button type="submit" class="w-full bg-amber-600 text-white p-3 rounded-md hover:bg-amber-700">Login</button> <p id="login-error" class="text-red-500 text-sm text-center"></p> </form> <form id="signup-form" class="space-y-4 hidden"> <input type="text" id="signup-name" placeholder="Full Name" required class="w-full p-3 border rounded-md"> <input type="email" id="signup-email" placeholder="Email" required class="w-full p-3 border rounded-md"> <input type="password" id="signup-password" placeholder="Password" required class="w-full p-3 border rounded-md"> <input type="tel" id="signup-phone" placeholder="Phone Number" required class="w-full p-3 border rounded-md"> <input type="text" id="signup-address" placeholder="Address" required class="w-full p-3 border rounded-md"> <div class="grid grid-cols-2 gap-4"> <input type="text" id="signup-city" placeholder="City" required class="w-full p-3 border rounded-md"> <input type="text" id="signup-district" placeholder="District" required class="w-full p-3 border rounded-md"> </div> <input type="text" id="signup-postal-code" placeholder="Postal Code" required class="w-full p-3 border rounded-md"> <button type="submit" class="w-full bg-amber-600 text-white p-3 rounded-md hover:bg-amber-700">Create Account</button> <p id="signup-error" class="text-red-500 text-sm text-center"></p> </form> </div> </div> </div>
    
    <div id="tracking-modal" class="fixed inset-0 modal-bg z-50 flex items-center justify-center hidden"> <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl m-4" style="max-height: 90vh;"> <div class="p-6 flex justify-between items-center border-b"> <h2 class="text-3xl font-bold text-slate-800">My Orders</h2> <button id="close-tracking-btn" class="text-slate-500 hover:text-slate-800 text-3xl leading-none">&times;</button> </div> <div id="tracking-items-container" class="p-6 flex flex-col" style="max-height: calc(90vh - 100px); overflow-y: auto;"> <p class="text-slate-500 text-center">Loading your orders...</p> </div> </div> </div>

     <header class="sticky top-0 z-40 bg-white shadow-md">
          <div class="header-top-bar text-white text-xs py-1"> <div class="container mx-auto px-4 flex justify-between items-center"> <span>Your Ultimate Destination</span> <div class="flex items-center space-x-4"> <a href="#" class="hover:text-gray-300"><i class="fab fa-facebook-f"></i></a> <a href="#" class="hover:text-gray-300"><i class="fab fa-instagram"></i></a> <a href="#" class="hover:text-gray-300"><i class="fab fa-whatsapp"></i></a> <span class="border-l border-amber-400 h-4"></span> <a href="#" class="hover:underline">NEWSLETTER</a> <a href="contact.html" class="hover:underline">CONTACT US</a> <a href="#" class="hover:underline">FAQS</a> </div> </div> </div> <div class="py-4 border-b"> <div class="container mx-auto px-4 flex justify-between items-center gap-6"> <a href="index.html" id="logo-btn" class="flex-shrink-0">
                   <img src="LOGO.png" alt="TPA - The Phone Arcade" class="h-10 md:h-12">
                   </a> <div class="flex-grow flex border border-gray-300 rounded-md overflow-hidden"> <input type="text" id="search-bar" placeholder="Search for products" class="w-full px-4 py-2 focus:outline-none text-sm">
                   <select id="search-category-dropdown" class="border-l border-gray-300 px-2 text-sm text-gray-600 focus:outline-none bg-gray-50 hidden md:block">
                        <option value="all">ALL CATEGORIES</option>
                   </select>
                   <button id="search-icon-btn" class="bg-gray-100 px-4 text-gray-600 hover:bg-gray-200"> <i class="fas fa-search"></i> </button> </div> <div class="flex items-center space-x-3 md:space-x-4 text-gray-700"> <div id="auth-links" class="text-sm hidden md:block"> <button id="login-btn-nav" class="hover:text-amber-700">LOGIN</button> / <button id="signup-btn-nav" class="hover:text-amber-700">REGISTER</button> </div>
                    <div id="user-info" class="hidden items-center space-x-3 text-sm">
                        <a href="profile.html" class="flex items-center gap-2 hover:text-amber-700 p-1 rounded-md">
                            <i class="fas fa-user-circle text-2xl text-gray-500"></i>
                            <span id="user-email" class="hidden lg:inline font-medium text-gray-700"></span>
                        </a>
                        <span class="border-l h-5 self-center"></span>
                        <button id="logout-btn-nav" class="hover:text-red-600 text-gray-600 text-xs font-medium uppercase tracking-wider hover:bg-gray-100 p-2 rounded-md">Logout</button>
                    </div>
                    <span class="border-l h-5 self-center hidden md:block"></span> 
                    <a href="wishlist.html" title="Wishlist" class="relative hover:text-amber-700"> 
                        <i class="fas fa-heart text-xl"></i> 
                        <span id="wishlist-count-badge" class="absolute -top-1 -right-1 bg-amber-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center">0</span> 
                    </a> 
                    <a href="#" title="Compare" class="relative hover:text-amber-700 hidden md:block"> <i class="fas fa-exchange-alt text-xl"></i> <span class="absolute -top-1 -right-1 bg-amber-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center">0</span> </a> 
                    <a href="cart.html" id="cart-icon" title="Cart" class="relative hover:text-amber-700 flex items-center"> <i class="fas fa-shopping-bag text-xl"></i> <span id="cart-count-badge" class="absolute -top-1 -right-2 bg-amber-600 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center">0</span> <span class="ml-2 text-sm font-semibold hidden md:inline">Rs.0.00</span> </a> 
                    <button id="tracking-icon-btn" title="Track My Orders" class="relative hover:text-amber-700"> <i class="fas fa-clipboard-list text-xl"></i> </button> 
                </div> </div> </div> 
                <nav class="main-nav hidden md:block"> <div class="container mx-auto px-4 flex justify-between items-center h-12"> <div class="flex space-x-6 text-sm font-medium"> 
                    <a href="index.html" class="text-gray-700 hover:text-amber-700">HOME</a> 
                    <a href="shop.html" class="text-gray-700 hover:text-amber-700">SHOP</a> 
                    <a href="about.html" class="text-gray-700 hover:text-amber-700">ABOUT US</a> 
                    <a href="contact.html" class="text-amber-600 hover:text-gray-900 font-semibold">CONTACT US</a>
                    <a href="#" class="text-gray-700 hover:text-amber-700">STORE</a> </div> <a href="#" class="text-amber-600 font-semibold text-sm flex items-center gap-1 hover:text-gray-900"> <i class="fas fa-heart text-xs"></i> SPECIAL OFFERS </a> </div> </nav>
     </header>

     <main class="container mx-auto px-4 py-12 md:px-8 md:py-16">
        <div class="text-center mb-12 border-b pb-6">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900">Contact Us</h1>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-10 lg:gap-16">
            
            <div>
                <p class="text-xs text-gray-500 uppercase tracking-wider mb-1">Information Questions</p>
                <h2 class="text-xl md:text-2xl font-semibold text-gray-800 mb-6">FREQUENTLY ASKED QUESTIONS</h2>
                <div id="faq-accordion" class="border-t border-gray-200">
                    
                    <div class="faq-item">
                        <button class="faq-question active">
                            <span>Can I get my phone repaired at your store?</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="faq-answer" style="max-height: fit-content;"> 
                            <p>Absolutely! We have a team of skilled technicians who can diagnose and repair various phone issues. Whether it's a broken screen, battery replacement, or software problem, we can help. Bring your phone to our store, and we'll provide you with a repair assessment and an estimated cost.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question"><span>Do you sell phone accessories?</span><i class="fas fa-chevron-down"></i></button>
                        <div class="faq-answer"><p>Yes, we offer a wide range of phone accessories including cases, screen protectors, chargers, cables, headphones, and more. Visit our store or browse our online shop to see our selection.</p></div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question"><span>What payment methods do you accept?</span><i class="fas fa-chevron-down"></i></button>
                        <div class="faq-answer"><p>We accept various payment methods, including cash, major credit cards (Visa, MasterCard, AMEX), debit cards, and popular mobile payment options like Koko and MintPay. Online purchases can be made securely via card or bank transfer.</p></div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question"><span>Can I buy products from your store online?</span><i class="fas fa-chevron-down"></i></button>
                        <div class="faq-answer"><p>Yes, most of our products are available for purchase through our website. We offer islandwide delivery options for your convenience. Check our <a href="shop.html" class="text-amber-600 hover:underline">Shop</a> page.</p></div>
                    </div>
                     <div class="faq-item">
                        <button class="faq-question"><span>What brands of mobile phones do you sell?</span><i class="fas fa-chevron-down"></i></button>
                        <div class="faq-answer"><p>We carry a variety of popular mobile phone brands including Apple (iPhone), Samsung, Google Pixel, Huawei, Xiaomi, and more. Our inventory is regularly updated with the latest models.</p></div>
                    </div>
                </div>
            </div>

            <div>
                <p class="text-xs text-gray-500 uppercase tracking-wider mb-1">Information About Us</p>
                <h2 class="text-xl md:text-2xl font-semibold text-gray-800 mb-6">CONTACT US FOR ANY QUESTIONS</h2>
                
                <form id="contact-form" class="space-y-5">
                    <div><input type="text" id="contact-name" name="name" required placeholder="Your name" class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-amber-500 focus:border-amber-500 bg-gray-50"></div>
                    <div><input type="email" id="contact-email" name="email" required placeholder="Your email" class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-amber-500 focus:border-amber-500 bg-gray-50"></div>
                    <div><input type="text" id="contact-subject" name="subject" required placeholder="Subject" class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-amber-500 focus:border-amber-500 bg-gray-50"></div>
                    <div><textarea id="contact-message" name="message" rows="6" placeholder="Your message (optional)" class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-amber-500 focus:border-amber-500 bg-gray-50"></textarea></div>
                    <div>
                        <button type="button" id="submit-contact-form" class="w-auto bg-amber-600 text-white px-8 py-3 rounded-md hover:bg-amber-700 font-semibold text-sm tracking-wide transition duration-200">
                            SUBMIT
                        </button>
                    </div>
                </form>
            </div>

        </div>
     </main>


   <footer class="site-footer border-t pt-10 mt-10">
          <div class="container mx-auto px-4 pb-10">
               <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div class="space-y-4">
                         <img src="LOGO.png" alt="TPA - The Phone Arcade" class="h-10 mb-4">
                         <p>High-quality electronics, essentials & appliances are now at your fingertips. Confirm your order now !</p>
                         <p><i class="fas fa-map-marker-alt mr-2 text-amber-700"></i> 890/a Main Street, Kaduruwela, Polonnaruwa</p>
                         <p><i class="fas fa-phone-alt mr-2 text-amber-700"></i> Phone: 077 754 9654 / 027 222 4470</p>
                         <p><i class="fas fa-envelope mr-2 text-amber-700"></i> Email: info@buyzone.lk</p>
                    </div>
                    <div>
                         <h4>Quick Links</h4>
                         <ul class="space-y-2">
                              <li><a href="index.html">Home</a></li>
                              <li><a href="shop.html">Shop</a></li>
                              <li><a href="about.html">About Us</a></li>
                              <li><a href="contact.html">Contact Us</a></li>
                              <li><a href="#">Special Offers</a></li>
                         </ul>
                    </div>
                    <div>
                         <h4>Useful Links</h4>
                         <ul class="space-y-2">
                              <li><a href="#">Privacy Policy</a></li>
                              <li><a href="#">Returns</a></li>
                              <li><a href="#">Terms & Conditions</a></li>
                              <li><a href="#">Contact Us</a></li>
                              <li><a href="#">Latest News</a></li>
                              <li><a href="#">Our Sitemap</a></li>
                         </ul>
                    </div>
                    <div>
                         <h4>My Account</h4>
                         <ul class="space-y-2">
                              <li><a href="profile.html">My Profile</a></li>
                              <li><a href="cart.html">View Cart</a></li>
                              <li><a href="#" id="footer-orders-link">Track My Orders</a></li>
                              <li><a href="wishlist.html">My Wishlist</a></li>
                         </ul>
                    </div>
               </div>
          </div>
          <div class="footer-bottom py-4 px-4">
               <div class="container mx-auto flex flex-col md:flex-row justify-between items-center text-center md:text-left">
                    <span>TPA Â© 2025 CREATED BY <a href="https://pixora.com" target="_blank" rel="noopener noreferrer" class="font-semibold hover:text-amber-700">PIXORA IT SOLUTIONS</a></span>
                    <div class="flex space-x-2 mt-4 md:mt-0">
                         <i class="fab fa-cc-visa text-2xl"></i>
                         <i class="fab fa-cc-amex text-2xl"></i>
                         <i class="fab fa-cc-paypal text-2xl"></i>
                         <i class="fab fa-cc-mastercard text-2xl"></i>
                         <i class="fab fa-cc-discover text-2xl"></i>
                         </div>
               </div>
          </div>
     </footer>
     <script type="module">
    
    // Firebase Imports
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";
    import { getFirestore, doc, getDoc, setDoc, serverTimestamp, collection, query, where, orderBy, getDocs } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"; 
    
    // Firebase Config
    const firebaseConfig = {
     apiKey: "AIzaSyAtvnbedBpCiRe_ZyfoB-TacrboEMgft5Y", authDomain: "mobile-shop-1c315.firebaseapp.com", projectId: "mobile-shop-1c315", storageBucket: "mobile-shop-1c315.firebasestorage.app", messagingSenderId: "689278786227", appId: "1:689278786227:web:ee06565e4a230381bf6ec6", measurementId: "G-MLDEWBBEMV"
    };
    
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    const ordersCol = collection(db, 'orders'); 

    // Header & Modal DOM Elements
    const authModal = document.getElementById('auth-modal');
    const closeModalBtn = document.getElementById('close-modal-btn');
    const loginBtnNav = document.getElementById('login-btn-nav');
    const signupBtnNav = document.getElementById('signup-btn-nav');
    const logoutBtnNav = document.getElementById('logout-btn-nav');
    const loginTab = document.getElementById('login-tab-btn');
    const signupTab = document.getElementById('signup-tab-btn');
    const loginForm = document.getElementById('login-form');
    const signupForm = document.getElementById('signup-form');
    const authLinks = document.getElementById('auth-links');
    const userInfo = document.getElementById('user-info');
    const userEmailSpan = document.getElementById('user-email');
    const trackingModal = document.getElementById('tracking-modal');
    const closeTrackingBtn = document.getElementById('close-tracking-btn');
    const trackingIconBtn = document.getElementById('tracking-icon-btn');
    const trackingItemsContainer = document.getElementById('tracking-items-container'); 
    const footerOrdersLink = document.getElementById('footer-orders-link');
    const cartCountBadge = document.getElementById('cart-count-badge');
    const wishlistCountBadge = document.getElementById('wishlist-count-badge');
    
    // CONTACT PAGE DOM ELEMENTS
    const faqAccordion = document.getElementById('faq-accordion');
    const contactForm = document.getElementById('contact-form');
    const submitContactBtn = document.getElementById('submit-contact-form');


    // --- Helper Functions (Cart & Wishlist) ---
    const getCart = () => JSON.parse(localStorage.getItem('mobileHubCart')) || [];
    const saveCart = (cart) => localStorage.setItem('mobileHubCart', JSON.stringify(cart));
    const updateCartCountBadge = () => { const cart = getCart(); const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0); if (cartCountBadge) { if (totalItems > 0) { cartCountBadge.textContent = totalItems; cartCountBadge.classList.remove('hidden'); cartCountBadge.classList.add('pop'); setTimeout(() => cartCountBadge.classList.remove('pop'), 200); } else { cartCountBadge.textContent = '0'; cartCountBadge.classList.remove('hidden', 'pop'); } } };
    
    const getWishlist = () => JSON.parse(localStorage.getItem('mobileHubWishlist')) || [];
    const saveWishlist = (wishlist) => localStorage.setItem('mobileHubWishlist', JSON.stringify(wishlist));
    const updateWishlistCountBadge = () => { const wishlist = getWishlist(); const totalItems = wishlist.length; if (wishlistCountBadge) { if (totalItems > 0) { wishlistCountBadge.textContent = totalItems; wishlistCountBadge.classList.remove('hidden'); } else { wishlistCountBadge.textContent = '0'; } wishlistCountBadge.classList.add('pop'); setTimeout(() => wishlistCountBadge.classList.remove('pop'), 200); } };

    // --- Header & Auth Logic ---
    const openModal = (isLogin = true) => { /* ... */ }; if(loginBtnNav) loginBtnNav.addEventListener('click', () => openModal(true)); /* ... (Anith auth modal code okkoma methana) ... */
    if(loginForm) loginForm.addEventListener('submit', async (e) => { /* ... */ }); if(signupForm) signupForm.addEventListener('submit', async (e) => { /* ... */ }); 
    if(logoutBtnNav) logoutBtnNav.addEventListener('click', () => { signOut(auth).then(() => { window.location.href = 'index.html'; }); }); 
    
    onAuthStateChanged(auth, async (user) => {
        if (user) {
            if(authLinks) { authLinks.classList.add('hidden'); authLinks.classList.remove('md:block'); }
            if(userInfo) { userInfo.classList.remove('hidden'); userInfo.classList.add('flex'); }
            if(userEmailSpan) userEmailSpan.textContent = user.email;
        } else {
            if(authLinks) { authLinks.classList.remove('hidden'); authLinks.classList.add('md:block'); }
            if(userInfo) { userInfo.classList.add('hidden'); userInfo.classList.remove('flex'); }
            if(userEmailSpan) userEmailSpan.textContent = '';
        }
        updateCartCountBadge();
        updateWishlistCountBadge();
    });

    // Orders Modal Load Function 
    const loadUserOrders = async () => { /* ... (index.html eke code eka methana - wenasak na) ... */ }; 
    if(trackingIconBtn) trackingIconBtn.addEventListener('click', (e) => { e.preventDefault(); if(trackingModal) trackingModal.classList.remove('hidden'); loadUserOrders(); }); 
    if(closeTrackingBtn) closeTrackingBtn.addEventListener('click', () => { if(trackingModal) trackingModal.classList.add('hidden'); }); 
    if(footerOrdersLink) { footerOrdersLink.addEventListener('click', (e) => { e.preventDefault(); if(trackingModal) trackingModal.classList.remove('hidden'); loadUserOrders(); }); }


    // --- Contact Page Specific Logic ---

    // FAQ Accordion
    if (faqAccordion) {
        faqAccordion.addEventListener('click', (e) => {
            const questionButton = e.target.closest('.faq-question');
            if (!questionButton) return;

            const faqItem = questionButton.parentElement;
            const answerDiv = faqItem.querySelector('.faq-answer');
            const isActive = questionButton.classList.contains('active');

            faqAccordion.querySelectorAll('.faq-item').forEach(item => {
                const qButton = item.querySelector('.faq-question');
                const aDiv = item.querySelector('.faq-answer');
                if (item !== faqItem && qButton.classList.contains('active')) {
                    qButton.classList.remove('active');
                    aDiv.style.maxHeight = null;
                }
            });

            questionButton.classList.toggle('active');
            answerDiv.style.maxHeight = questionButton.classList.contains('active') ? answerDiv.scrollHeight + "px" : null;
        });
        
        const initialActiveAnswer = faqAccordion.querySelector('.faq-question.active + .faq-answer');
        if (initialActiveAnswer) {
            initialActiveAnswer.style.maxHeight = initialActiveAnswer.scrollHeight + "px";
        }
    }

    // Contact Form to WhatsApp
    if (submitContactBtn && contactForm) {
        submitContactBtn.addEventListener('click', () => {
            const name = document.getElementById('contact-name').value.trim();
            const email = document.getElementById('contact-email').value.trim();
            const subject = document.getElementById('contact-subject').value.trim();
            const message = document.getElementById('contact-message').value.trim();

            if (!name || !email || !subject) {
                alert('Please fill in Name, Email, and Subject fields.');
                return;
            }

            let whatsappMessage = `*New Contact Request from TPA Website*:\n\n`;
            whatsappMessage += `*Name:* ${name}\n`;
            whatsappMessage += `*Email:* ${email}\n`;
            whatsappMessage += `*Subject:* ${subject}\n`;
            if (message) {
                whatsappMessage += `*Message:* ${message}\n`;
            }

            const encodedMessage = encodeURIComponent(whatsappMessage);
            const whatsappNumber = "94777349654"; 
            const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
            window.open(whatsappUrl, '_blank');
        });
    }

    // Initial Badge Updates
    updateCartCountBadge();
    updateWishlistCountBadge();

</script>

</body>
</html>   